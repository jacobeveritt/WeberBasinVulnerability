plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter',mode='markers',
size = Data2$Average_PerCapita_._Change,color = "lightblue",mode = 'markers')%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =T,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',mode = 'markers')%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =T,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',mode = 'markers')%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',mode = 'markers')%>%
add_trace(y=Data2$MI...AG)
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',mode = 'markers')%>%
add_trace(y=Data2$MI...AG)%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',mode = 'markers')%>%
add_trace(y=Data$MI...AG)%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',mode = 'markers')%>%
add_trace(y=Data$MI...AG)%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',mode = 'markers')%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter')%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',marker = list(size = 12,color = 'rgba(255, 182, 193, .9)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 14,color = 'rgba(255, 182, 193, .9)'))%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',marker = list(size = 8,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 14,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',marker = list(size = 16,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = DD_MIN_MAX$DemandScenarios,textfont = t, textposition = "top right") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
D2015$Population
# *------------------------------------------------------------------
# | PROGRAM NAME: Service Area Divided Annual Demands
#Copy intro page back in when done
#Set Working Directory
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/1 - Scenario Processing/Annual Service Area Demand Scenarios/Input_Data")
#----------------------------### Inputs ### ------------------------------------------------------------------------------------------------------------------------------------------
#1 & #2 Inputs By County and Year (Population and Per Capita Usage)
D2015<-read.csv("2015Data.csv")
D2070<-read.csv("2070Data.csv")
D2150<-read.csv("2150Data.csv")
D2015
View(D2015$Population)
sum(D2015$Population)
sum(D2015[2:20,3])
sum(D2070[2:20,3])
sum(D2150[2:20,3])
View(Data)
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = c("Base Case Per Capita Reduction
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","Base Case Per Capita Reduction
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita Reduction
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Decrease Per Capita Reduction
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Decrease Per Capita Reduction
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","40% Average Decrease Per Capita Reduction
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
,textfont = t, textposition = "top") %>%     #Update names
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = c("Base Case Per Capita Reduction
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","Base Case Per Capita Reduction
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita Reduction
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Decrease Per Capita Reduction
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Decrease Per Capita Reduction
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","40% Average Decrease Per Capita Reduction
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
,textfont = t, textposition = "top left") %>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = c("Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
,textfont = t, textposition = "top left") %>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
View(Data)
#Scatter points
BaseCase<-Data[1,1]
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',colors = 'lightblue',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = c("Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
,textfont = t, textposition = "top right") %>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
Data2
View(Data2)
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = c("40% Average Per Capita Decrease
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
,textfont = t, textposition = "top right") %>%
add_trace(x=BaseCase,y=2015,type='scatter', mode='markers',marker = list(size = 10,color = 'rgba(255, 110, 0, 1)',text="Base Case"))%>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = c("40% Average Per Capita Decrease
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
,textfont = t, textposition = "top right") %>%
add_trace(x=BaseCase,y="2015",type='scatter', mode='markers',marker = list(size = 10,color = 'rgba(255, 110, 0, 1)',text="Base Case"))%>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
BaseCase
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = c("40% Average Per Capita Decrease
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
,textfont = t, textposition = "top right") %>%
add_trace(x=BaseCase,y='2015',type='scatter', mode='markers',marker = list(size = 10,color = 'rgba(255, 110, 0, 1)',text="Base Case"))%>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = c("40% Average Per Capita Decrease
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
,textfont = t, textposition = "top right") %>%
add_trace(y=BaseCase,x='2015',type='scatter', mode='markers',marker = list(size = 10,color = 'rgba(255, 110, 0, 1)',text="Base Case"))%>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =F,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
plot_ly(data =Data2 , x=Data2$Year, y=Data2$MI...AG,type='scatter'
,mode='markers',marker = list(size = 12,color = 'rgba(0, 155, 255, 1)'))%>%
add_trace(x=Data$Year,y=Data$MI...AG,type='scatter',
marker = list(size = 6,color = ' rgba(0, 210, 255, 1)'))%>%
add_text(text = c("40% Average Per Capita Decrease
Base PET (0% Increased Secondary)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 2,536,404 (2015)
0% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 5,109,197 (2070)
65% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 5,109,197 (2070)
78% Agricultural Conversion Factor
","Base Case Per Capita
High PET (10% Increased Secondary Usage)
Population: 6,965,058 (2150)
78% Agricultural Conversion Factor
","40% Average Per Capita Decrease
Base PET (0% Increased Secondary Usage)
Population: 6,965,058 (2150)
65% Agricultural Conversion Factor")
,textfont = t, textposition = "top right") %>%
add_trace(y=BaseCase,x='2015',type='scatter', mode='markers',marker = list(size = 10,color = 'rgba(255, 110, 0, 1)',text="Base Case"))%>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =T,title='Selected Demand Scenarios',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
#lines
plot_ly(data =DD_MIN , x=DD_MIN$Year, y=DD_MIN$MI...AG,type='scatter',mode = 'lines',name="Min Demand",
line= list(color= 'blue',width =3))%>%
add_trace(x=DD_MAX$Year,y=DD_MAX$MI...AG,name= "Max Demand",line= list(color='red',width = 3))%>%
layout(yaxis = list(title ='M&I + AG Demand (acre-feet)'),
showlegend =T,title='Demand Scenarios Range',
xaxis=list(title='Year',tickvals=list(2015,2070,2150),
ticktext=list('2015','2070','2150'),tickmode="array"))
### Contour plot
plot_ly(data=Data,x = Data$Year, y = Data$Average_PerCapita_._Change,type = 'contour',
z = Data$MI...AG,contours = list(showlabels = TRUE),showscale = TRUE,
colors = c('white','lightblue','purple'))%>%
layout(yaxis = list(title='Avg Reduced Per Capita % Change',tickformat = '.1f',showticklabels=T),
xaxis = list(title='Year'),
showlegend = T,name='Demand',title='Demand (AF/Year)')
#4 dimensions #########################################################################
# Fix/double check the quantities of and remove legend
#double check everything
plot_ly(data = MIAG2015_Sums,x = 'Year 2015',y= MIAG2015_Sums$MIAG2015_Sums ,type = 'scatter',
mode = 'markers',symbol = MIAG2015_Sums$ET,symbols = c('circle','x','o'), color = MIAG2015_Sums$AGConversionFactor,
colors = c("dark red","blue","purple"),name = '65 %',size = MIAG2015_Sums$NUMPC)%>%
add_trace(x = 'Year 2070',y= MIAG2070_Sums$MIAG2070_Sums ,type = 'scatter', mode = 'markers',
symbol = MIAG2070_Sums$ET,symbols = c('circle','x','o'), color = MIAG2070_Sums$AGConversionFactor,
colors = c("dark red","blue","purple"),name = '72 %',size = MIAG2070_Sums$NUMPC)%>%
add_trace(x = 'Year 2150',y= MIAG2150_Sums$MIAG2150_Sums ,type = 'scatter', mode = 'markers',
symbol = MIAG2150_Sums$ET,symbols = c('circle','x','o'), color = MIAG2150_Sums$AGConversionFactor,
colors = c("dark red","blue","purple"),name = '78 %',size = MIAG2150_Sums$NUMPC)%>%
layout( title = 'Municipal and Agricultural Demands',yaxis=list(title = 'M&I + AG Demand (acre-feet)',
barmode = 'group'),showlegend =FALSE)
colnames(MIandAg_Demand)<-rownames(Data)
SelectedDemands<-MIandAg_Demand %>% select(c(DD_MIN_MAX$DemandScenarios))
RunNumber <- 6
#Create Workbook
wb <- createWorkbook("Data")
#Create Worksheet for each Run
for(Num in 1:(RunNumber)) {
RunsString <- paste0("Trace",Num)
addWorksheet(wb, RunsString)
}
#Input Data
SAs<- c('SA1','SA2','SA3','SA4','SA5','SA6','SA7','SA8','SA9','SA10','SA11','SA12','SA13','SA14','SA15','SA16','SA17','SA18','SA19','SA20')
#Trace 1-6
i=1
while (i<=RunNumber) {
writeData(wb,sheet = i, SAs,startCol = 1,startRow = 3)
writeData(wb,sheet = i,c("Demand Data.AnnualDemands","AnnDmnd"),startCol = 2,startRow = 1)
i=i+1
}
#Loop through Traces 1-6
i=1
while (i<=6) {
writeData(wb,sheet = i, SelectedDemands[,i],startCol = 2,startRow = 3)
i=i+1
}
#Output
saveWorkbook(wb,"MI+AG_Values.xlsx",overwrite = TRUE)
#Return to code directory
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology")
setwd(fCodeDir)
#Move into the local output directory
setwd("../2 - RiverWare Modeling/Hydrology")
# Output file (MI+AG.xlsx)
saveWorkbook(wb,"MI+AG_Values.xlsx",overwrite = TRUE)
#Return to the code directory
setwd(fCodeDir)
