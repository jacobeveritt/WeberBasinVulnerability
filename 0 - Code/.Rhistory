j=1
while (i<=6) {
Tot_Demand[j:(j+17),] <- rep(Tot_Annual_Demand[i,2],(18))
i=i+1
j=j+18
}
#View(Tot_Demand)
colnames(Tot_Demand) <- "Demand"
rownames(Tot_Demand) <- Trace_Notation
#Tot_Demand <- data.frame(Tot_Demand)
Tot_Mnthly_Demand<-data.frame(rep(Tot_Demand$Demand,359))
colnames(Tot_Mnthly_Demand) <- "Demand"
#View(Tot_Monthly_Inflow)
######### - B -  Monthly Inflows Data  ##########
# Switch into local directory
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Scenario")
#  setwd(startWD)
# setwd("../2 - RiverWare Modeling/Scenario")
#Input Monthly data from RiverSmart Analysis
Tot_Mnthly_Inflow <-read.csv("Trace1,Trace1,Trace1/Total Inflows.csv")
i=1
for(TTTNum in 1:TraceNumber){
for(TTNum in 1:TraceNumber1){
for(TNum in 1:TraceNumber2){
TraceDirectory <- paste0(",Trace",TNum)
TraceDirectory <-paste0 (TraceDirectory,"/Total Inflows.csv")
TraceNum1<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceDirectory)
TraceNum2 <- paste0("Trace",TTTNum)
TraceDirectory <- paste0(TraceNum2,TraceDirectory)
Location <- TraceDirectory
Temp_Storage <- read.csv(Location)
Tot_Mnthly_Inflow[,i] <- Temp_Storage[,5]
colnames(Tot_Mnthly_Inflow)[i] <-  TraceDirectory
i=i+1
}
}
}
Tot_Mnthly_Inflow <- data.frame(Tot_Mnthly_Inflow)
#View(Tot_Mnthly_Inflow)
Months <- rep(c(1:12),31)
Months<- Months[(11:369)]
Tot_Mnthly_Inflow$Months <- Months
#Create Years
Years <- c(0:372)
i=1
j=1
while (j<=31) {
Years[(i:(i+11))] <- rep((j-1),12)
i=i+12
j=j+1
}
Years<- Years[(11:369)]
#Add months and Years column
#Tot_Mnthly_Inflow$Months <-Months
Tot_Mnthly_Inflow$Years <- Years
#Add a Water year - The water year is designated by the calendar year in which it ends, so the 2010 water year (USGS) started on October 1, 2009 and ended on September 30, 2010
Tot_Mnthly_Inflow$WaterYear <- ifelse(Tot_Mnthly_Inflow$Months>= 10,Tot_Mnthly_Inflow$Years + 1, Tot_Mnthly_Inflow$Years)
WaterYear<-ifelse(Tot_Mnthly_Inflow$Months>= 10,Tot_Mnthly_Inflow$Years + 1, Tot_Mnthly_Inflow$Years)
#Transpose Data
Tot_Mnthly_Inflow_Transposed <- t(Tot_Mnthly_Inflow)
Tot_Mnthly_Inflow_Transposed <- data.frame(Tot_Mnthly_Inflow_Transposed)
#View(Tot_Mnthly_Inflow_Transposed)
#Stack Columns
Tot_Mnthly_Inflow_Stacked <- stack(Tot_Mnthly_Inflow_Transposed[1:108,1:359])
Tot_Mnthly_Inflow <- Tot_Mnthly_Inflow_Stacked$values
######## - C -   Compiling Total Sedimentation  ########
##Total Sedimentation Changes on Reservoir
#Move back to code directory
setwd(startWD)
#Move into the local input directory
#setwd("../3 - Post Processing")
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/3 - Post Processing")
Tot_Sed <- read.csv("Sedimentation.csv")
Tot_Sed <- Tot_Sed[,2]
Tot_Mnthly_Sed <- rep(Tot_Sed,359)
#### Time Columns: Mnths, Years and Water Years #####
Mnths<-c(1:38772)
i=1
j=1
while (i<=359) {
Mnths[j:(i*108)]<-Months[i]
i=i+1
j=j+108
}
#View(Mnths)
Yrs<-c(1:38772)
i=1
j=1
while (i<=359) {
Yrs[j:(i*108)]<-Years[i]
i=i+1
j=j+108
}
#View(Yrs)
Wtr_Yrs<-c(1:38772)
i=1
j=1
while (i<=359) {
Wtr_Yrs[j:(i*108)]<-WaterYear[i]
i=i+1
j=j+108
}
##################   Compile Mnthly Input data    ##################################
#Create Data Frame
Inputs<- data.frame(Tot_Mnthly_Demand)
Inputs$Inflow <- Tot_Mnthly_Inflow
Inputs$Sedimentation <- Tot_Mnthly_Sed
Inputs$Trace_Notation <- Trace_Notation
Inputs$Month<-Mnths
Inputs$Years<-Yrs
Inputs$WaterYear<-Wtr_Yrs
#Number
Inputs$Number<-c(1:38772)
Inputs <- data.frame(Inputs)
##################################  - 2 - Output data ########################################################
#Set Local Directory
setwd(startWD)
setwd("../2 - RiverWare Modeling/Scenario")
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Scenario")
Tot_Mnthly_Stor <- read.csv("Trace1,Trace1,Trace1/Total Storage_NO EVAP.csv")
Tot_Mnthly_Short <-read.csv("Trace1,Trace1,Trace1/Total Shortages.csv")
#Create TraceFolder Naming lookup for Values with No Evap.
#Move into the local input directory
#setwd("../2 - RiverWare Modeling/Scenario")
# Switch into local directory
#setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Scenario")
##### Total Storage #####
i=1
for(TTTNum in 1:TraceNumber){
for(TTNum in 1:TraceNumber1){
for(TNum in 1:TraceNumber2){
TraceDirectory <- paste0(",Trace",TNum)
TraceDirectory <-paste0 (TraceDirectory,"/Total Storage_NO EVAP.csv")
TraceNum1<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceDirectory)
TraceNum2 <- paste0("Trace",TTTNum)
TraceDirectory <- paste0(TraceNum2,TraceDirectory)
Location <- TraceDirectory
Temp_Storage <- read.csv(Location)
Tot_Mnthly_Stor[,i] <- Temp_Storage[,5]
colnames(Tot_Mnthly_Stor)[i] <-  TraceDirectory
i=i+1
}
}
}
Tot_Mnthly_Stor <- data.frame(Tot_Mnthly_Stor)
#Transpose Data
Tot_Mnthly_Stor_Transposed <- t(Tot_Mnthly_Stor)
Tot_Mnthly_Stor_Transposed <- data.frame(Tot_Mnthly_Stor_Transposed)
#View(Tot_Mnthly_Inflow_Transposed)
#Stack Columns
Tot_Mnthly_Stor_Stacked <- stack(Tot_Mnthly_Stor_Transposed[1:108,1:359])
Tot_Mnthly_Stor <- Tot_Mnthly_Stor_Stacked$values
Tot_Mnthly_Stor <- data.frame(Tot_Mnthly_Stor)
##### Total Shortages #####
i=1
for(TTTNum in 1:TraceNumber){
for(TTNum in 1:TraceNumber1){
for(TNum in 1:TraceNumber2){
TraceDirectory <- paste0(",Trace",TNum)
TraceDirectory <-paste0 (TraceDirectory,"/Total Shortages.csv")
TraceNum1<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceDirectory)
TraceNum2 <- paste0("Trace",TTTNum)
TraceDirectory <- paste0(TraceNum2,TraceDirectory)
Location <- TraceDirectory
Temp_Storage <- read.csv(Location)
Tot_Mnthly_Short[,i] <- Temp_Storage[,5]
colnames(Tot_Mnthly_Short)[i] <-  TraceDirectory
i=i+1
}
}
}
Tot_Mnthly_Short <- data.frame(Tot_Mnthly_Short)
#Transpose Data
Tot_Mnthly_Short_Transposed <- t(Tot_Mnthly_Short)
Tot_Mnthly_Short_Transposed <- data.frame(Tot_Mnthly_Short_Transposed)
#View(Tot_Mnthly_Inflow_Transposed)
#Stack Columns
Tot_Mnthly_Short_Stacked <- stack(Tot_Mnthly_Short_Transposed[1:108,1:359])
Tot_Mnthly_Short <- Tot_Mnthly_Short_Stacked$values
#Tot_Mnthly_Short <- data.frame(Tot_Mnthly_Short)
########################   Compile Output data   ###############################
Outputs <- Tot_Mnthly_Stor
Outputs$Shortage <- Tot_Mnthly_Short
# Add Trace Notation
#Outputs$Trace_Notation <-Trace_Notation
#Number
Outputs$Number<-c(1:38772)
Outputs<-data.frame(Outputs)
#########################  Merge  ---- Data Dataframe########################
Data <- merge(Inputs,Outputs,by="Number")
#Data_Monthly <- Data
#########################################################################################################
####### Calculate Annual Inflows -- Calculate Average by Trace#######
#########################################################################################################
#From Monthly Streamflows to Annual Streamflows
Monthly_Inflows_NO_Sed <- filter(Data,Sedimentation==0)
Monthly_Inflows<-distinct(Monthly_Inflows_NO_Sed,Inflow,Trace_Notation,WaterYear,Month)
Annual_Inflows <-Monthly_Inflows %>%
group_by(WaterYear,Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
#add Inflow name column
Annual_Inflows$Scenario <-rep(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'),180)
Annual_Inflows<-Annual_Inflows[,c(1:3,5)]
#Calculate Mean of Average Annual Inflows
Mean_of_Annual_Inflows <-Annual_Inflows %>%
group_by(Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
Mean_of_Annual_Inflows<-Mean_of_Annual_Inflows[,c(1,3)]
Mean_of_Annual_Inflows<-distinct(Mean_of_Annual_Inflows,Inflow)
Mean_of_Annual_Inflows$Scenario<-(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'))
#View(Mean_of_Annual_Inflows)
### PLOT ANNUAL INFLOWS
#BAR PLOT
#fix order of bar plot by trace order
xcategoryorder<-list(categoryorder ="array",
categoryarray =c(Annual_Inflows$Scenario))
#Simplify data
SimpAI<-Annual_Inflows %>% distinct(Scenario,.keep_all = TRUE)
#Summed Total Inflows
#plot_ly(SimpAI,x=SimpAI$Scenario,y=SimpAI$Inflow,
#     type = 'bar',color = SimpAI$Scenario,colors = "Set1")%>%
#layout(title='Summed Inflow Scenarios',xaxis=xcategoryorder,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#Scatter plots
plot_ly(Annual_Inflows,x=Annual_Inflows$Scenario,y=Annual_Inflows$Inflow,
type = 'scatter',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=xcategoryorder,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#Scatter plots
plot_ly(Annual_Inflows,x=Annual_Inflows$Scenario,y=Annual_Inflows$Inflow,
type = 'scatter',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=xcategoryorder,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenario,colors = "Set1")%>%
add_trace(y=Mean_of_Annual_Inflows[1,2],name=Mean_of_Annual_Inflows[1,1])%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
add_trace(y=Mean_of_Annual_Inflows[1,2],name=Mean_of_Annual_Inflows[1,1])%>%
####From Annual Streamflows to Average Annual Streamflows###
Annual_Inflows <- Annual_Inflows$
Avg_Annual_Inflow<-data.frame(Avg_Annual_Inflows$Inflow)
colnames(Avg_Annual_Inflow)<-"Annual Avg Inflow"
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,x=c(1:30)y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,x=c(1:30),y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
1080/30
#########  Plot Single Line  ##########
Annual_Inflows<-Annual_Inflows[c(1:180),]
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#From Monthly Streamflows to Annual Streamflows
Monthly_Inflows_NO_Sed <- filter(Data,Sedimentation==0)
Monthly_Inflows<-distinct(Monthly_Inflows_NO_Sed,Inflow,Trace_Notation,WaterYear,Month)
Annual_Inflows <-Monthly_Inflows %>%
group_by(WaterYear,Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
#From Monthly Streamflows to Annual Streamflows
Monthly_Inflows_NO_Sed <- filter(Data,Sedimentation==0)
Monthly_Inflows<-distinct(Monthly_Inflows_NO_Sed,Inflow,Trace_Notation,WaterYear,Month)
Annual_Inflows <-Monthly_Inflows %>%
group_by(WaterYear,Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
View(Annual_Inflows)
#add Inflow name column
Annual_Inflows$Scenario <-rep(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'),180)
Annual_Inflows<-Annual_Inflows[,c(1:3,5)]
#Calculate Mean of Average Annual Inflows
Mean_of_Annual_Inflows <-Annual_Inflows %>%
group_by(Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
Mean_of_Annual_Inflows<-Mean_of_Annual_Inflows[,c(1,3)]
Mean_of_Annual_Inflows<-distinct(Mean_of_Annual_Inflows,Inflow)
Mean_of_Annual_Inflows$Scenario<-(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'))
Annual_Inflows<-distinct(Annual_Inflows,Demand)
View(Annual_Inflows)
#From Monthly Streamflows to Annual Streamflows
Monthly_Inflows_NO_Sed <- filter(Data,Sedimentation==0)
Monthly_Inflows<-distinct(Monthly_Inflows_NO_Sed,Inflow,Trace_Notation,WaterYear,Month)
Annual_Inflows <-Monthly_Inflows %>%
group_by(WaterYear,Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
#add Inflow name column
Annual_Inflows$Scenario <-rep(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'),180)
Annual_Inflows<-Annual_Inflows[,c(1:3,5)]
#Calculate Mean of Average Annual Inflows
Mean_of_Annual_Inflows <-Annual_Inflows %>%
group_by(Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
Mean_of_Annual_Inflows<-Mean_of_Annual_Inflows[,c(1,3)]
Mean_of_Annual_Inflows<-distinct(Mean_of_Annual_Inflows,Inflow)
Mean_of_Annual_Inflows$Scenario<-(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'))
Annual_Inflows<-distinct(Annual_Inflows,Demand)
#From Monthly Streamflows to Annual Streamflows
Monthly_Inflows_NO_Sed <- filter(Data,Sedimentation==0)
Monthly_Inflows<-distinct(Monthly_Inflows_NO_Sed,Inflow,Trace_Notation,WaterYear,Month)
Annual_Inflows <-Monthly_Inflows %>%
group_by(WaterYear,Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
#add Inflow name column
Annual_Inflows$Scenario <-rep(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'),180)
Annual_Inflows<-Annual_Inflows[,c(1:3,5)]
1080/180
Annual_Inflows<-distinct(Annual_Inflows,WaterYear)
View(Annual_Inflows)
Annual_Inflows<-distinct(Annual_Inflows,WaterYear,Inflow)
#From Monthly Streamflows to Annual Streamflows
Monthly_Inflows_NO_Sed <- filter(Data,Sedimentation==0)
Monthly_Inflows<-distinct(Monthly_Inflows_NO_Sed,Inflow,Trace_Notation,WaterYear,Month)
Annual_Inflows <-Monthly_Inflows %>%
group_by(WaterYear,Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
#add Inflow name column
Annual_Inflows$Scenario <-rep(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'),180)
Annual_Inflows<-Annual_Inflows[,c(1:3,5)]
#Calculate Mean of Average Annual Inflows
Mean_of_Annual_Inflows <-Annual_Inflows %>%
group_by(Trace_Notation) %>%
summarise_all(funs(mean(Inflow)))
Mean_of_Annual_Inflows<-Mean_of_Annual_Inflows[,c(1,3)]
Mean_of_Annual_Inflows<-distinct(Mean_of_Annual_Inflows,Inflow)
Mean_of_Annual_Inflows$Scenario<-(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'))
Annual_Inflows<-distinct(Annual_Inflows,WaterYear,Inflow)
View(Annual_Inflows)
Annual_Inflows$Scenarios<-rep(c('Hot Dry Flows','Base Flows (1940-1970)','Duration & Intensity Droughts (1930-1960)','Duration Droughts (1610-1640)','Intensity Drought (1520-1550)','Intensity Drought (1570-1600)'),30)
View(Annual_Inflows)
### PLOT ANNUAL INFLOWS
#BAR PLOT
#fix order of bar plot by trace order
xcategoryorder<-list(categoryorder ="array",
categoryarray =c(Annual_Inflows$Scenario))
#Simplify data
SimpAI<-Annual_Inflows %>% distinct(Scenario,.keep_all = TRUE)
#Scatter plots
plot_ly(Annual_Inflows,x=Annual_Inflows$Scenario,y=Annual_Inflows$Inflow,
type = 'scatter',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=xcategoryorder,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#Scatter plots
plot_ly(Annual_Inflows,x=Annual_Inflows$Scenario,y=Annual_Inflows$Inflow,
type = 'scatter',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=xcategoryorder,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenario,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=rep(30),y=Mean_of_Annual_Inflows$Inflow,name=Mean_of_Annual_Inflows$Scenarios)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=rep(30,6),y=Mean_of_Annual_Inflows$Inflow,name=Mean_of_Annual_Inflows$Scenarios)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(y=Mean_of_Annual_Inflows[1,2],name=Mean_of_Annual_Inflows[1,1])%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=30,y=Mean_of_Annual_Inflows[1,2],name=Mean_of_Annual_Inflows[1,1])%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=30,y=Mean_of_Annual_Inflows[,2],name=Mean_of_Annual_Inflows[,1])%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=30,y=Mean_of_Annual_Inflows[,1],name=Mean_of_Annual_Inflows[,2])%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=30,y=Mean_of_Annual_Inflows[1,1],name=Mean_of_Annual_Inflows[1,2])%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
Mean_of_Annual_Inflows[1,1]
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=30,y=Mean_of_Annual_Inflows$Inflow)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
Mean_of_Annual_Inflows
Mean_of_Annual_Inflows$Inflow
D<-Mean_of_Annual_Inflows$Inflow
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=c(rep(30,60)),y=D)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
C<-Mean_of_Annual_Inflows$Scenario
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=c(rep(30,6)),y=D,color=C)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=c(rep(30,6)),y=D,color=C,legend('F'))%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=c(rep(30,6)),y=D,color=C,legendtitle=FALSE)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=c(rep(30,6)),y=D,color=C,legend=FALSE)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1",legend=F)%>%
add_trace(x=c(rep(30,6)),y=D,color=C)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1",legendtitle=F)%>%
add_trace(x=c(rep(30,6)),y=D,color=C)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
C<-Mean_of_Annual_Inflows$Scenario
D<-Mean_of_Annual_Inflows$Inflow
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=c(rep(30,6)),y=D,color=C)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year'),yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
C<-Mean_of_Annual_Inflows$Scenario
D<-Mean_of_Annual_Inflows$Inflow
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=c(rep(30,6)),y=D,color=C)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year')
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=c(rep(30,6)),y=D,color=C,showlegend=F)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year')
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
#########  Plot Single Line  ##########
InflowC<-Mean_of_Annual_Inflows$Scenario
InflowD<-Mean_of_Annual_Inflows$Inflow
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(x=c(rep(30,12)),y=rep(InflowD,2),color=InflowC,showlegend=F)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year')
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(mode='line',x=c(rep(30,12)),y=rep(InflowD,2),color=rep(InflowC,2),showlegend=F)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year')
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1")%>%
add_trace(mode='line',x=c(rep(30,6),rep(0,6)),y=rep(InflowD,2),color=rep(InflowC,2),showlegend=F)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year')
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1",sort=TRUE)%>%
add_trace(mode='line',x=c(rep(30,6),rep(0,6)),y=rep(InflowD,2),color=rep(InflowC,2),showlegend=F)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year')
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1",sort=TRUE,showlegend=F)%>%
add_trace(mode='line',x=c(rep(30,6),rep(0,6)),y=rep(InflowD,2),color=rep(InflowC,2),sort=TRUE,showlegend=T)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year')
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1",sort=TRUE,showlegend=F)%>%
add_trace(type='scatter',mode='line',x=c(rep(30,6),rep(0,6)),y=rep(InflowD,2),color=rep(InflowC,2),sort=TRUE,showlegend=T)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year')
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1",sort=TRUE,showlegend=F)%>%
add_trace(type='scatter',mode='line',x=c(rep(30,6),rep(-1,6)),y=rep(InflowD,2),color=rep(InflowC,2),sort=TRUE,showlegend=T)%>%
layout(title='Summed Inflow Scenarios',xaxis=list(title='Water Year')
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1",sort=TRUE,showlegend=F)%>%
add_trace(type='scatter',mode='line',x=c(rep(30,6),rep(-1,6)),y=rep(InflowD,2),color=rep(InflowC,2),sort=TRUE,showlegend=T)%>%
layout(title='Selected Annual Average Inflows',xaxis=list(title='Water Year'),text=InflowC
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
plot_ly(Annual_Inflows,y=Annual_Inflows$Inflow,
type = 'scatter',mode='line',color = Annual_Inflows$Scenarios,colors = "Set1",sort=TRUE,showlegend=F)%>%
add_trace(type='scatter',mode='line',x=c(rep(30,6),rep(-1,6)),y=rep(InflowD,2),color=rep(InflowC,2),sort=TRUE,showlegend=T)%>%
layout(title='Selected Annual Average Inflows',xaxis=list(title='Water Year'),text=InflowC,textfont=t,textposition='top right'
,yaxis = list(title='Total Inflow by Scenario (Acre-Feet)'))
