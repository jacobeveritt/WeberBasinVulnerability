TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  TraceDirectory
i=i+1
ifelse(TTNum = 6,TTNum = 1,TTNum = TTNum + 1)
ifelse(TNum = 6,TNum = 1,TNum = TNum + 1)
}
TNum
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  TraceDirectory
i=i+1
ifelse(TTNum >= 6,TTNum = 1,TTNum = TTNum + 1)
ifelse(TNum >= 6,TNum = 1,TNum = TNum + 1)
}
ifelse(TTNum>=6,TTNum =,87)
ifelse(TTNum>=6,TTNum =,87,TTNum = 98)
i
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  TraceDirectory
i=i+1
}
Tot_TraceNum
i
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor[i]) <-  TraceDirectory
i=i+1
}
i
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor[,i]) <-  TraceDirectory
i=i+1
}
TraceDirectory
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  rep(TraceDirectory,1)
i=i+1
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  rep(TraceDirectory,i)
i=i+1
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  rep(TraceDirectory,i)
i=i+1
TTNum = TTNum+1
TNum =Tnum +1
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  rep(TraceDirectory,i)
i=i+1
TTNum = TTNum+1
TNum =TNum +1
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  c(TraceDirectory,i)
i=i+1
TTNum = TTNum+1
TNum =TNum +1
}
ifelse(TTNum >= 6,TTNum = 1,TTNum = TTNum + 1)
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  c(TraceDirectory,i)
i=i+1
if(TTNum > 6){
TTNum = 1
} else {
TTNum = TTNum + 1
}
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  c(TraceDirectory,i)
i=i+1
if(TTNum > 6){
TTNum = 1
} else {
TTNum = TTNum + 1
}
if(TNum > 6){
TNum = 1
} else {
TNum = TNum + 1
}
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor) <-  c(TraceDirectory,i)
Tot_Stor[,i] <- setNames(Tot_Stor[,i], c(TraceDirectory))
i=i+1
if(TTNum > 6){
TTNum = 1
} else {
TTNum = TTNum + 1
}
if(TNum > 6){
TNum = 1
} else {
TNum = TNum + 1
}
}
Tot_Stor <- data.frame(Tot_Stor)
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
#colnames(Tot_Stor) <-  c(TraceDirectory,i)
Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > 6){
TTNum = 1
} else {
TTNum = TTNum + 1
}
if(TNum > 6){
TNum = 1
} else {
TNum = TNum + 1
}
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
#colnames(Tot_Stor) <-  c(TraceDirectory,i)
Tot_Stor[,2] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > 6){
TTNum = 1
} else {
TTNum = TTNum + 1
}
if(TNum > 6){
TNum = 1
} else {
TNum = TNum + 1
}
}
Tot_Stor[,i] <- setNames(Tot_Stor, TraceDirectory)
TraceDirectory
Tot_Stor[,2] <- setNames(Tot_Stor[,2], TraceDirectory)
colnames(Tot_Stor) <-  TraceDirectory
colnames(Tot_Stor,2) <-  TraceDirectory
colnames(Tot_Stor)[2] <-  TraceDirectory
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor)[i] <-  TraceDirectory
#Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > 6){
TTNum = 1
} else {
TTNum = TTNum + 1
}
if(TNum > 6){
TNum = 1
} else {
TNum = TNum + 1
}
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TTNum)
TraceNum2<- paste0(",Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor)[i] <-  TraceDirectory
#Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > 5){
TTNum = 1
} else {
TTNum = TTNum + 1
}
if(TTNum > 5){
TNum = TNum +1
} else {
TNum = TNum
}
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TNum)
TraceNum2<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor)[i] <-  TraceDirectory
#Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > 5){
TTNum = 1
} else {
TTNum = TTNum + 1
}
if(TTNum > 6){
TNum = TNum +1
} else {
TNum = TNum
}
}
#add Date column
Tot_Stor$Date <- seq.Date(as.Date("2459/11/30"),by ="month",length=359)
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TNum)
TraceNum2<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor)[i] <-  TraceDirectory
#Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum = 6){
TNum = TNum +1
} else {
TNum = TNum
}
}
if(TTNum > 5){
TTNum = 1
} else {
TTNum = TTNum + 1
}
Tot_Stor <- data.frame(Tot_Stor)
#rename columns
i=1
TTNum <- 1
Tot_Stor <- data.frame(Tot_Stor)
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TNum)
TraceNum2<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor)[i] <-  TraceDirectory
#Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > 6){
TNum = TNum +1
} else {
TNum = TNum
}
}
if(TTNum > 5){
TTNum = 1
} else {
TTNum = TTNum + 1
}
Tot_Stor <- data.frame(Tot_Stor)
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TNum)
TraceNum2<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor)[i] <-  TraceDirectory
#Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > 6){
TNum = TNum +1
} else {
TNum = TNum
}
if(TTNum > 5){
TTNum = 1
} else {
TTNum = TTNum + 1
}
}
### Clear any existing data or functions.
rm(list=ls())
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/ScenarioSet/D M")
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Scenario")
library(readr)
Total_Storage_NO_EVAP <- read_csv("Trace5,Trace3,RiverWare MRM,Weber Basin RiverWare Model,RiverWare Policy/Total Storage_NO EVAP.csv")
#Plots
####-----------------------------Line Plots--------------------------------------------------
library(plotly)
x<-c(1:359)
y<- Total_Storage_NO_EVAP[,5]
data <- data.frame(x,y)
p<- plot_ly(data,x=~x,y=~Slot.Value,type = 'scatter', mode = 'lines') %>%
layout(yaxis = list(title = 'Total Storage'))
p
#Create a loop
#input data
TraceNumber <- 6
TraceNumber1 <-6
Tot_TraceNum <- TraceNumber*TraceNumber1
Tot_Stor <- read.csv("Trace1,Trace1,RiverWare MRM,Weber Basin RiverWare Model,RiverWare Policy/Total Storage_NO EVAP.csv")
#Create TraceFolder Naming lookup
i=1
for(TTNum in 1:TraceNumber){
for(TNum in 1:TraceNumber1){
TraceDirectory <- paste0(",Trace",TTNum)
TraceDirectory <-paste0 (TraceDirectory,",RiverWare MRM,Weber Basin RiverWare Model,RiverWare Policy/Total Storage_NO EVAP.csv")
TraceNum1<- paste0("Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceDirectory)
Location <- TraceDirectory
Temp_Storage <- read_csv(Location)
Tot_Stor[,i] <- Temp_Storage[,5]
i=i+1
}
}
Tot_Stor <- data.frame(Tot_Stor)
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TNum)
TraceNum2<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor)[i] <-  TraceDirectory
#Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > 6){
TNum = TNum +1
} else {
TNum = TNum
}
if(TTNum > 5){
TTNum = 1
} else {
TTNum = TTNum + 1
}
}
Tot_Stor <- data.frame(Tot_Stor)
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TNum)
TraceNum2<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor)[i] <-  TraceDirectory
#Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > 5){
TNum = TNum +1
} else {
TNum = TNum
}
if(TTNum > 5){
TTNum = 1
} else {
TTNum = TTNum + 1
}
}
#rename columns
i=1
TTNum <- 1
TNum <- 1
while (i<=Tot_TraceNum) {
TraceNum1 <- paste0("Trace",TNum)
TraceNum2<- paste0(",Trace",TTNum)
TraceDirectory <- paste0(TraceNum1,TraceNum2)
colnames(Tot_Stor)[i] <-  TraceDirectory
#Tot_Stor[,i] <- setNames(Tot_Stor[,i], TraceDirectory)
i=i+1
if(TTNum > (TraceNumber-1)){
TNum = TNum +1
} else {
TNum = TNum
}
if(TTNum > (TraceNumber1-1)){
TTNum = 1
} else {
TTNum = TTNum + 1
}
}
#add Date column
Tot_Stor$Date <- seq.Date(as.Date("2459/11/30"),by ="month",length=359)
p<- plot_ly(Tot_Stor, x = Tot_Stor$Date, name = 'alpha', type = 'scatter', mode = 'lines',
line = list(color = 'rgb(24, 205, 12', width = 2)) %>%
layout(#title = "Title",
xaxis = list(title ="Time"),
yaxis = list(title = "Percentage"))
for(trace in colnames(Tot_Stor)){
p <- p %>% plotly::add_trace(y = as.formula(paste0("~`",trace,"`")),name = trace)
}
p
#different Colors -Trials
p<- plot_ly(Tot_Stor, x = Tot_Stor$Date, name = 'alpha', type = 'scatter', mode = 'lines',
line = list(color = colorspaces, width = 2)) %>%
layout(#title = "Title",
xaxis = list(title ="Time"),
yaxis = list(title = "Percentage"))
for(trace in colnames(Tot_Stor)){
p <- p %>% plotly::add_trace(y = as.formula(paste0("~`",trace,"`")),name = trace)
}
p
#add Date column
Tot_Stor$Date <- seq.Date(as.Date("0000/11/30"),by ="month",length=359)
#Line plots
#Loop
#different Colors
p<- plot_ly(Tot_Stor, x = Tot_Stor$Date, name = 'alpha', type = 'scatter', mode = 'lines',
line = list(color = colorspaces, width = 2)) %>%
layout(#title = "Title",
xaxis = list(title ="Time"),
yaxis = list(title = "Percentage"))
for(trace in colnames(Tot_Stor)){
p <- p %>% plotly::add_trace(y = as.formula(paste0("~`",trace,"`")),name = trace)
}
p
