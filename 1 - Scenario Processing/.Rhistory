View(hist_adjusted_model_evap_coeffs)
#Change NAN values to 0
i=1
while (i<=13) {
hist_adjusted_model_evap_coeffs[i,1] <- ifelse(hist_adjusted_model_evap_coeffs[i,1]== "NaN",0,hist_adjusted_model_evap_coeffs[i,1])
i=i+1
}
View(H)
### Calculate Coeffs
# Old * (new willard/old willard) or Existing * (Adjusted/Existing)
hist_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
### Calculate Coeffs
# Old * (new willard/old willard) or Existing * (Adjusted/Existing)
hist_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
hist_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (hist_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
View(hist_adjusted_model_evap_coeffs)
#Change NAN values to 0
i=1
while (i<=13) {
hist_adjusted_model_evap_coeffs[i,2] <- ifelse(hist_adjusted_model_evap_coeffs[i,2]== "NaN",0,hist_adjusted_model_evap_coeffs[i,2])
i=i+1
}
View(H)
#Change NAN values to 0
i=1
while (i<=13) {
hist_adjusted_model_evap_coeffs[i,2] <- ifelse(hist_adjusted_model_evap_coeffs[i,2]== "NaN",0,hist_adjusted_model_evap_coeffs[i,2])
i=i+1
}
View(hist_adjusted_model_evap_coeffs)
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
hist_adjusted_model_evap_coeffs[i,j] <- ifelse(hist_adjusted_model_evap_coeffs[i,j]== "NaN",0,hist_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
i=1
View(hist_adjusted_model_evap_coeffs)
##Late_adjusted
late_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
late_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (late_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
late_adjusted_model_evap_coeffs[i,j] <- ifelse(late_adjusted_model_evap_coeffs[i,j]== "NaN",0,late_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
View(late_adjusted_model_evap_coeffs)
##Mid_adjusted
mid_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
mid_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (mid_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
mid_adjusted_model_evap_coeffs[i,j] <- ifelse(mid_adjusted_model_evap_coeffs[i,j]== "NaN",0,mid_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
View(mid_adjusted_model_evap_coeffs)
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology")
write.xlsx(mid_adjusted_model_evap_coeffs, Evap_Mid.xlsx, sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
install.packages("xlsx")
library("xlsx")
library("xlsx")
library(readxl)
write_xl(mid_adjusted_model_evap_coeffs, Evap_Mid.xlsx, sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
library("xlsx", lib.loc="~/R/win-library/3.5")
write.xlsx(mid_adjusted_model_evap_coeffs, Evap_Mid.xlsx, sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
remove.packages("xlsx", lib="~/R/win-library/3.5")
library(openxlsx)
write.xlsx(mid_adjusted_model_evap_coeffs, Evap_Mid.xlsx, sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(mid_adjusted_model_evap_coeffs, Evap_Mid.xlsx, sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
library(openxlsx)
write.xlsx(mid_adjusted_model_evap_coeffs, 'Evap_Mid.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(hist_adjusted_model_evap_coeffs, 'Evap_Hist.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(late_adjusted_model_evap_coeffs, 'Evap_Late.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(mid_adjusted_model_evap_coeffs, 'Evap_Mid.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
View(Existing_Model_Evap_Coeffs)
#Input Existing Evaporation Coeffs
library(readxl)
Existing_Model_Evap_Coeffs <- read_excel("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology/Existing Model Evap Coeffs.xlsx")
Existing_Model_Evap_Coeffs <- data.frame(Existing_Model_Evap_Coeffs)
View(Existing_Model_Evap_Coeffs)
#Input New Evaporation Coeffs -- Adjusted Evap and Precip from University study of Willard Bay
library(readr)
hist_adjusted <- read_csv("Evaporation/hist_adjusted.csv")
#View(hist_adjusted)
late_adjusted <- read_csv("Evaporation/late_adjusted.csv")
#View(late_adjusted)
mid_adjusted <- read_csv("Evaporation/mid_adjusted.csv")
#View(mid_adjusted)
#Dataframes
hist_adjusted <- data.frame(hist_adjusted)
late_adjusted <- data.frame(late_adjusted)
mid_adjusted <- data.frame(mid_adjusted)
#Convert Adjusted data from UofU from mm to ft
hist_adjusted[,2:3]<- hist_adjusted[,2:3]*0.00328084
late_adjusted[,2:3]<- late_adjusted[,2:3]*0.00328084
mid_adjusted[,2:3]<- mid_adjusted[,2:3]*0.00328084
#rename columns
names(hist_adjusted)[2]<-paste("precipitation (ft)")
names(hist_adjusted)[3]<-paste("evaporation (ft)")
names(late_adjusted)[2]<-paste("precipitation (ft)")
names(late_adjusted)[3]<-paste("evaporation (ft)")
names(mid_adjusted)[2]<-paste("precipitation (ft)")
names(mid_adjusted)[3]<-paste("evaporation (ft)")
##Hist_Adjusted
hist_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
hist_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (hist_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
View(hist_adjusted_model_evap_coeffs)
#View(hist_adjusted_model_evap_coeffs)
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
hist_adjusted_model_evap_coeffs[i,j] <- ifelse(hist_adjusted_model_evap_coeffs[i,j]== "NaN",0,hist_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
##Late_adjusted
late_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
late_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (late_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
late_adjusted_model_evap_coeffs[i,j] <- ifelse(late_adjusted_model_evap_coeffs[i,j]== "NaN",0,late_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
View(late_adjusted_model_evap_coeffs)
##Mid_adjusted
mid_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
mid_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (mid_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
mid_adjusted_model_evap_coeffs[i,j] <- ifelse(mid_adjusted_model_evap_coeffs[i,j]== "NaN",0,mid_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
#Output Evap Files to RiverWare/RiverSmart
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology")
library(openxlsx)
write.xlsx(hist_adjusted_model_evap_coeffs, 'Evap_Hist.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(late_adjusted_model_evap_coeffs, 'Evap_Late.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(mid_adjusted_model_evap_coeffs, 'Evap_Mid.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
#Evaporation Coeffs
#Input Existing Evaporation Coeffs
library(readxl)
Existing_Model_Evap_Coeffs <- read_excel("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology/Existing Model Evap Coeffs.xlsx")
Existing_Model_Evap_Coeffs <- data.frame(Existing_Model_Evap_Coeffs)
#View(Existing_Model_Evap_Coeffs)
#Input New Evaporation Coeffs -- Adjusted Evap and Precip from University study of Willard Bay
library(readr)
hist_adjusted <- read_csv("Evaporation/hist_adjusted.csv")
#View(hist_adjusted)
late_adjusted <- read_csv("Evaporation/late_adjusted.csv")
#View(late_adjusted)
mid_adjusted <- read_csv("Evaporation/mid_adjusted.csv")
#View(mid_adjusted)
#Dataframes
hist_adjusted <- data.frame(hist_adjusted)
late_adjusted <- data.frame(late_adjusted)
mid_adjusted <- data.frame(mid_adjusted)
#Convert Adjusted data from UofU from mm to ft
hist_adjusted[,2:3]<- hist_adjusted[,2:3]*0.00328084
late_adjusted[,2:3]<- late_adjusted[,2:3]*0.00328084
mid_adjusted[,2:3]<- mid_adjusted[,2:3]*0.00328084
#rename columns
names(hist_adjusted)[2]<-paste("precipitation (ft)")
names(hist_adjusted)[3]<-paste("evaporation (ft)")
names(late_adjusted)[2]<-paste("precipitation (ft)")
names(late_adjusted)[3]<-paste("evaporation (ft)")
names(mid_adjusted)[2]<-paste("precipitation (ft)")
names(mid_adjusted)[3]<-paste("evaporation (ft)")
#View(hist_adjusted)
### Calculate Coeffs
# Old * (new willard/old willard) or Existing * (Adjusted/Existing)
##Hist_Adjusted
hist_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
hist_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (hist_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#View(hist_adjusted_model_evap_coeffs)
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
hist_adjusted_model_evap_coeffs[i,j] <- ifelse(hist_adjusted_model_evap_coeffs[i,j]== "NaN",0,hist_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
#View(hist_adjusted_model_evap_coeffs)
##Late_adjusted
late_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
late_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (late_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
late_adjusted_model_evap_coeffs[i,j] <- ifelse(late_adjusted_model_evap_coeffs[i,j]== "NaN",0,late_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
#View(late_adjusted_model_evap_coeffs)
##Mid_adjusted
mid_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
mid_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (mid_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
mid_adjusted_model_evap_coeffs[i,j] <- ifelse(mid_adjusted_model_evap_coeffs[i,j]== "NaN",0,mid_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
#View(mid_adjusted_model_evap_coeffs)
#Output Evap Files to RiverWare/RiverSmart
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology")
library(openxlsx)
write.xlsx(hist_adjusted_model_evap_coeffs, 'Evap_Hist.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(late_adjusted_model_evap_coeffs, 'Evap_Late.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(mid_adjusted_model_evap_coeffs, 'Evap_Mid.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
##### End of Code ############
#Evaporation Coeffs
### Clear any existing data or functions.
rm(list=ls())
#Input Existing Evaporation Coeffs
library(readxl)
Existing_Model_Evap_Coeffs <- read_excel("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology/Existing Model Evap Coeffs.xlsx")
Existing_Model_Evap_Coeffs <- data.frame(Existing_Model_Evap_Coeffs)
#View(Existing_Model_Evap_Coeffs)
#Input New Evaporation Coeffs -- Adjusted Evap and Precip from University study of Willard Bay
library(readr)
hist_adjusted <- read_csv("Evaporation/hist_adjusted.csv")
#View(hist_adjusted)
late_adjusted <- read_csv("Evaporation/late_adjusted.csv")
#View(late_adjusted)
mid_adjusted <- read_csv("Evaporation/mid_adjusted.csv")
#View(mid_adjusted)
#Dataframes
hist_adjusted <- data.frame(hist_adjusted)
late_adjusted <- data.frame(late_adjusted)
mid_adjusted <- data.frame(mid_adjusted)
#Convert Adjusted data from UofU from mm to ft
hist_adjusted[,2:3]<- hist_adjusted[,2:3]*0.00328084
late_adjusted[,2:3]<- late_adjusted[,2:3]*0.00328084
mid_adjusted[,2:3]<- mid_adjusted[,2:3]*0.00328084
#rename columns
names(hist_adjusted)[2]<-paste("precipitation (ft)")
names(hist_adjusted)[3]<-paste("evaporation (ft)")
names(late_adjusted)[2]<-paste("precipitation (ft)")
names(late_adjusted)[3]<-paste("evaporation (ft)")
names(mid_adjusted)[2]<-paste("precipitation (ft)")
names(mid_adjusted)[3]<-paste("evaporation (ft)")
#View(hist_adjusted)
### Calculate Coeffs
# Old * (new willard/old willard) or Existing * (Adjusted/Existing)
##Hist_Adjusted
hist_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
hist_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (hist_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#View(hist_adjusted_model_evap_coeffs)
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
hist_adjusted_model_evap_coeffs[i,j] <- ifelse(hist_adjusted_model_evap_coeffs[i,j]== "NaN",0,hist_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
#View(hist_adjusted_model_evap_coeffs)
##Late_adjusted
late_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
late_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (late_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
late_adjusted_model_evap_coeffs[i,j] <- ifelse(late_adjusted_model_evap_coeffs[i,j]== "NaN",0,late_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
#View(late_adjusted_model_evap_coeffs)
##Mid_adjusted
mid_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
mid_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (mid_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
mid_adjusted_model_evap_coeffs[i,j] <- ifelse(mid_adjusted_model_evap_coeffs[i,j]== "NaN",0,mid_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
#View(mid_adjusted_model_evap_coeffs)
#Output Evap Files to RiverWare/RiverSmart
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology")
library(openxlsx)
write.xlsx(hist_adjusted_model_evap_coeffs, 'Evap_Hist.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(late_adjusted_model_evap_coeffs, 'Evap_Late.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(mid_adjusted_model_evap_coeffs, 'Evap_Mid.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
##### End of Code ############
### Clear any existing data or functions.
rm(list=ls())
#Input Existing Evaporation Coeffs
library(readxl)
Existing_Model_Evap_Coeffs <- read_excel("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology/Existing Model Evap Coeffs.xlsx")
Existing_Model_Evap_Coeffs <- data.frame(Existing_Model_Evap_Coeffs)
#Input New Evaporation Coeffs -- Adjusted Evap and Precip from University study of Willard Bay
library(readr)
hist_adjusted <- read_csv("Evaporation/hist_adjusted.csv")
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/1 - Scenario Processing/Evaporation")
### Clear any existing data or functions.
rm(list=ls())
#Input Existing Evaporation Coeffs
library(readxl)
Existing_Model_Evap_Coeffs <- read_excel("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology/Existing Model Evap Coeffs.xlsx")
Existing_Model_Evap_Coeffs <- data.frame(Existing_Model_Evap_Coeffs)
#View(Existing_Model_Evap_Coeffs)
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/1 - Scenario Processing/Evaporation")
#Input New Evaporation Coeffs -- Adjusted Evap and Precip from University study of Willard Bay
library(readr)
hist_adjusted <- read_csv("Evaporation/hist_adjusted.csv")
### Clear any existing data or functions.
rm(list=ls())
#Input Existing Evaporation Coeffs
library(readxl)
Existing_Model_Evap_Coeffs <- read_excel("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology/Existing Model Evap Coeffs.xlsx")
Existing_Model_Evap_Coeffs <- data.frame(Existing_Model_Evap_Coeffs)
#View(Existing_Model_Evap_Coeffs)
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/1 - Scenario Processing/Evaporation")
#Input New Evaporation Coeffs -- Adjusted Evap and Precip from University study of Willard Bay
library(readr)
hist_adjusted <- read_csv("hist_adjusted.csv")
#View(hist_adjusted)
late_adjusted <- read_csv("late_adjusted.csv")
#View(late_adjusted)
mid_adjusted <- read_csv("mid_adjusted.csv")
#View(mid_adjusted)
#Dataframes
hist_adjusted <- data.frame(hist_adjusted)
late_adjusted <- data.frame(late_adjusted)
mid_adjusted <- data.frame(mid_adjusted)
#Convert Adjusted data from UofU from mm to ft
hist_adjusted[,2:3]<- hist_adjusted[,2:3]*0.00328084
late_adjusted[,2:3]<- late_adjusted[,2:3]*0.00328084
mid_adjusted[,2:3]<- mid_adjusted[,2:3]*0.00328084
#rename columns
names(hist_adjusted)[2]<-paste("precipitation (ft)")
names(hist_adjusted)[3]<-paste("evaporation (ft)")
names(late_adjusted)[2]<-paste("precipitation (ft)")
names(late_adjusted)[3]<-paste("evaporation (ft)")
names(mid_adjusted)[2]<-paste("precipitation (ft)")
names(mid_adjusted)[3]<-paste("evaporation (ft)")
##Hist_Adjusted
hist_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
hist_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (hist_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#View(hist_adjusted_model_evap_coeffs)
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
hist_adjusted_model_evap_coeffs[i,j] <- ifelse(hist_adjusted_model_evap_coeffs[i,j]== "NaN",0,hist_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
##Late_adjusted
late_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
late_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (late_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
late_adjusted_model_evap_coeffs[i,j] <- ifelse(late_adjusted_model_evap_coeffs[i,j]== "NaN",0,late_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
##Mid_adjusted
mid_adjusted_model_evap_coeffs <- Existing_Model_Evap_Coeffs
i=2
while (i<=18) {
mid_adjusted_model_evap_coeffs[,i] <- as.numeric(Existing_Model_Evap_Coeffs[,i]) * (mid_adjusted[,3]/as.numeric(Existing_Model_Evap_Coeffs[,18]))
i=i+2
}
#Change NAN values to 0
j=2
while (j<=18) {
i=1
while (i<=13) {
mid_adjusted_model_evap_coeffs[i,j] <- ifelse(mid_adjusted_model_evap_coeffs[i,j]== "NaN",0,mid_adjusted_model_evap_coeffs[i,j])
i=i+1
}
j=j+2
}
#Output Evap Files to RiverWare/RiverSmart
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Hydrology")
library(openxlsx)
write.xlsx(hist_adjusted_model_evap_coeffs, 'Evap_Hist.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(late_adjusted_model_evap_coeffs, 'Evap_Late.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(mid_adjusted_model_evap_coeffs, 'Evap_Mid.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
write.xlsx(mid_adjusted_model_evap_coeffs, 'Evap_Mid2.xlsx', sheetName="Run0",
col.names=TRUE, row.names=TRUE, append=FALSE, showNA=TRUE, password=NULL)
