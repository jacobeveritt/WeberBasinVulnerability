z = J1Data_NoZero$Shortage, type = "contour",contours = list(start = 0,
end = 10250,
size = 750))%>%
colorbar(title = "Shortage Level")%>%
layout(title = "June 1st Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#No Zero
p <- plot_ly(
x = J1Data_NoZero$Demand,
y = J1Data_NoZero$Inflows,
z = J1Data_NoZero$Shortage, type = "contour",contours = list(start = 0,
end = 10250,
size = 750))%>%
colorbar(title = "Shortage Level")%>%
layout(title = "June 1st Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#No Zero
p <- plot_ly(
x = J1Data_NoZero$Demand,
y = J1Data_NoZero$Inflows,
z = J1Data_NoZero$Shortage, type = "contour",contours = list(start = 0,
end = 10250,
size = 1000))%>%
colorbar(title = "Shortage Level")%>%
layout(title = "June 1st Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#No Zero
p <- plot_ly(
x = J1Data_NoZero$Demand,
y = J1Data_NoZero$Inflows,
z = J1Data_NoZero$Shortage, type = "contour",contours = list(start = 1,
end = 10250,
size = 1000))%>%
colorbar(title = "Shortage Level")%>%
layout(title = "June 1st Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#No Zero
p <- plot_ly(
x = J1Data_NoZero$Demand,
y = J1Data_NoZero$Inflows,
z = J1Data_NoZero$Shortage, type = "contour",contours = list(start = 1,
end = 10251,
size = 250))%>%
colorbar(title = "Shortage Level")%>%
layout(title = "June 1st Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#No Zero
p <- plot_ly(
x = J1Data_NoZero$Demand,
y = J1Data_NoZero$Inflows,
z = J1Data_NoZero$Shortage, type = "contour",contours = list(start = 1000,
end = 11000,
size = 1000))%>%
colorbar(title = "Shortage Level")%>%
layout(title = "June 1st Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#No Zero
p <- plot_ly(
x = J1Data_NoZero$Demand,
y = J1Data_NoZero$Inflows,
z = J1Data_NoZero$Shortage, type = "contour",contours = list(start = 0,
end = 11000,
size = 10))%>%
colorbar(title = "Shortage Level")%>%
layout(title = "June 1st Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
View(J1Data_NoZero)
## Filter Sedimentation
J1Data_NoZero <- filter(J1Data,Shortage>1)
#Shortage
p <- plot_ly(
x = J1Data$Demand,
y = J1Data$Inflows,
z = J1Data$Shortage, type = "contour")%>%
colorbar(title = "Shortage Level")%>%
layout(title = "June 1st Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
#No Zero
p <- plot_ly(
x = J1Data_NoZero$Demand,
y = J1Data_NoZero$Inflows,
z = J1Data_NoZero$Shortage, type = "contour",contours = list(start = 0,
end = 11000,
size = 100))%>%
colorbar(title = "Shortage Level")%>%
layout(title = "June 1st Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
J1Data_NoSed_NoZero <- filter(J1Data_NoSed,Shortage>1)
J1Data_10Perc_NoZero <- filter(J1Data_10Perc,Shortage>1)
J1Data_30Perc_NoZero <- filter(J1Data_30Perc,Shortage>1)
p <- plot_ly(
x = J1Data_NoSed_NoZero$Demand,
y = J1Data_NoSed_NoZero$Inflows,
z = J1Data_NoSed_NoZero$Shortage, type = "contour")%>%
colorbar(title="Shortage Level") %>%
layout(title = "No Sedimentation Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
p <- plot_ly(
x = J1Data_10Perc_NoZero$Demand,
y = J1Data_10Perc_NoZero$Inflows,
z = J1Data_10Perc_NoZero$Shortage, type = "contour")%>%
colorbar(title="Shortage Level") %>%
layout(title = "No Sedimentation Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
p <- plot_ly(
x = J1Data_30Perc_NoZero$Demand,
y = J1Data_30Perc_NoZero$Inflows,
z = J1Data_30Perc_NoZero$Shortage, type = "contour")%>%
colorbar(title="Shortage Level") %>%
layout(title = "No Sedimentation Shortages by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#30% Reservior Change to Sed
p <- plot_ly(
x = J1Data_30Perc$Demand,
y = J1Data_30Perc$Inflows,
z = J1Data_30Perc$Storage, type = "contour")%>%
layout(title = "30% Sedimentation Storage by Color",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
library("dplyr", lib.loc="~/R/win-library/3.5")
Shortage_Rel_Metrics <- data.frame(J1Data[,5])
i=1
while (i<=(3240/3)) {
Shortage_Rel_Metrics[i,] <- ifelse(J1Data[i,5]>0,1,0)
i=i+1
}
## Calculate Reliability
Shortage_Rel <- data.frame(J1Data[,5])
i=1
while (i<=(3240/3)) {
Shortage_Rel[(i:(i+89)),] <- rep(round(sum((Shortage_Rel_Metrics[(i:(i+89)),]/30)*100),1),30)
i=i+30
}
p <- plot_ly(
x = J1Data$Demand,
y = J1Data$Inflows,
z = Shortage_Rel$J1Data...5., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 100,
size = 25 ) )%>%
layout(title = "Annual Average Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
p <- plot_ly(
x = J1Data$Demand,
y = J1Data$Inflows,
z = Shortage_Rel$J1Data...5., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 100,
size = 50 ) )%>%
layout(title = "Annual Average Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p <- plot_ly(
x = J1Data$Demand,
y = J1Data$Inflows,
z = Shortage_Rel$J1Data...5., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 100,
size = 50 ) )%>%
layout(title = "Annual Average Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
p <- plot_ly(
x = J1Data$Demand,
y = J1Data$Inflows,
z = Shortage_Rel$J1Data...5., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 1000,
size = 200 ) )%>%
layout(title = "Annual Average Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
View(Shortage_Rel$J1Data...5.)
View(Shortage_Rel)
p <- plot_ly(
x = J1Data$Demand,
y = J1Data$Inflows,
z = Shortage_Rel$J1Data...5., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 12000,
size = 2000 ) )%>%
layout(title = "Annual Average Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 12000,
size = 2000 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
##########################################################################################
#Without Sedimentation
##########################################################################################
Shortage_Rel_Metrics_NoSed <- data.frame(J1Data_NoSed$Shortage)
i=1
while (i<=1080) {
Shortage_Rel_Metrics_NoSed[i,] <- ifelse(J1Data_NoSed[i,5]>0,1,0)
i=i+1
}
## Calculate Reliability
Shortage_Rel_NoSed <- data.frame(c(1:1080))
i=1
while (i<=1080) {
Shortage_Rel_NoSed[(i:(i+29)),] <- rep(round(sum((Shortage_Rel_Metrics_NoSed[(i:(i+29)),]/30)*100),1),30)
i=i+30
}
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 12000,
size = 2000 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#10 Percent Reservoir Volume Lost
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 100,
size = 25 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#10 Percent Reservoir Volume Lost
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 12000,
size = 2000 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
#10 Percent Reservoir Volume Lost
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 10250,
size = 250 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 12000,
size = 2000 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 12000,
size = 1000 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 1000,
size = 100 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 100,
size = 10 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 100,
size = 25 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 30,
size = 5 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 20,
size = 5 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 15,
size = 5 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(
start = 0,
end = 15,
size = 1 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(start = 0,end = 15,size = 1 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(start = 0,end = 10,size = 1 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(start = 0,end = 20,size = 1 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
# 0 Percent Reservoir Volume
p <- plot_ly(
x = J1Data_NoSed$Demand,
y = J1Data_NoSed$Inflows,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(start = 0,end = 15,size = 1 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
p <- plot_ly(
x = J1Data_NoSed$Inflows,
y = J1Data_NoSed$Demand,
z = Shortage_Rel_NoSed$c.1.1080., type = "contour",
#colors = c("red","orange","yellow","white"),
#contours = list(coloring = 'heatmap',colors = c("red","orange","yellow","white")),
autocontour = F,contours = list(start = 0,end = 15,size = 1 ) )%>%
layout(title = "Shortage Reliability Metric",
xaxis = list(title ="Demand"),
yaxis = list(title = "Inflows"))
p
