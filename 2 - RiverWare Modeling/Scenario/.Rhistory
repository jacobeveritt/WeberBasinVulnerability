###########################################################################
## Set the Paths
###########################################################################
### Path for Data and Output
data_path <- "../../data"
output_path <- "../../output"
global_path <- "../global_func"
function_path <- "./functions"
### Set output location
output_name <- "clim_changeEveritt"
weber_output_path <- file.path(output_path,"paleo_weber")
write_output_base_path <- file.path(weber_output_path, output_name)
dir.create(write_output_base_path)
###########################################################################
###  Load functions
###########################################################################
### Load these functions for all code
require(colorspace)## JEveritt Replaced colorout with colorspace
require(assertthat)
### Load these functions for this unique project
require(ggplot2)
require(staggefuncs)
###########################################################################
## Set Initial Values
###########################################################################
### Set site data
site_id_list <- c("10128500")
site_name_list <- c("Weber River")
n <- 1
site_id <- site_id_list[n]
site_name <- site_name_list[n]
### Colors to use for climate change scenarios
cc_colors <- c("#D55E00" ,"#56B4E9", "#E69F00" , "#0072B2", "#CC79A7")
### Conversion from m3/s to acft/month
m3s_to_acftmonth <- 2131.97
### Read in climate change
read_location <- file.path(write_output_base_path, paste0(site_id,"_drought_details.csv"))
drought_event_summary <- read.csv(file = read_location)
###########################################################################
###   Distribution of duration
###########################################################################
#data!="base" &
plot_df <- subset(drought_event_summary,  data!="CTN5")
plot_df$data <- factor(plot_df$data, levels=c("paleo", "observed", "base", "WWN5","HWN5","WDN5", "HDN5"), labels= c("Reconst", "Observed",  "Base", "WW", "HW", "WD", "HD"))
p <- ggplot(plot_df, aes(x=dura_months/12, y = ..density.., fill=data))
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/ScenarioSet/D M")
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Scenario")
library(readr)
#Plots
####-----------------------------Line Plots--------------------------------------------------
library(plotly)
x<-c(1:359)
y<- Total_Storage_NO_EVAP[,5]
data <- data.frame(x,y)
TraceNumber1 <-6
TraceNumber1 <-6
Tot_TraceNum <- TraceNumber*TraceNumber1
Tot_Stor <- read.csv("Trace1,Trace1,RiverWare MRM,Weber Basin RiverWare Model,RiverWare Policy/Total Storage_NO EVAP.csv")
#Create TraceFolder Naming lookup
i=1
for(TTNum in 1:TraceNumber){
for(TNum in 1:TraceNumber1){
TraceDirectory <- paste0(",Trace",TTNum)
TraceDirectory <-paste0 (TraceDirectory,",RiverWare MRM,Weber Basin RiverWare Model,RiverWare Policy/Total Storage_NO EVAP.csv")
TraceNum1<- paste0("Trace",TNum)
TraceDirectory <- paste0(TraceNum1,TraceDirectory)
Location <- TraceDirectory
Temp_Storage <- read_csv(Location)
Tot_Stor[,i] <- Temp_Storage[,5]
i=i+1
}
}
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/ScenarioSet/D M")
x<-c(1:359)
### Clear any existing data or functions.
rm(list=ls())
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Scenario")
library(readr)
Total_Storage_NO_EVAP <- read_csv("Trace5,Trace3,RiverWare MRM,Weber Basin RiverWare Model,RiverWare Policy/Total Storage_NO EVAP.csv")
setwd("~/GitHub/WeberBasinVulnerability/WeberBasinVulnerability/2 - RiverWare Modeling/Scenario")
Total_Storage_NO_EVAP <- read_csv("Trace5,Trace3,RiverWare MRM,Weber Basin RiverWare Model,RiverWare Policy/Total Storage_NO EVAP.csv")
#Plots
####-----------------------------Line Plots--------------------------------------------------
library(plotly)
x<-c(1:359)
library(readr)
Total_Storage_NO_EVAP <- read_csv("Trace5,Trace3,RiverWare MRM,Weber Basin RiverWare Model,RiverWare Policy/Total Storage_NO EVAP.csv")
x<-c(1:359)
y<- Total_Storage_NO_EVAP[,5]
data <- data.frame(x,y)
p<- plot_ly(data,x=~x,y=~Slot.Value,type = 'scatter', mode = 'lines') %>%
layout(yaxis = list(title = 'Total Storage'))
p
#Create a loop
#input data
TraceNumber <- 6
